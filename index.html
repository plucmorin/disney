<!DOCTYPE html>

<html lang="fr">

<head>

Â  Â  <meta charset="UTF-8">

Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">

Â  Â  <title>GÃ©nÃ©rateur d'e-mail Disney (Version Finale)</title>

Â  Â  <style>

Â  Â  Â  Â  body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"; margin: 20px; background-color: #f4f4f4; color: #333; line-height: 1.6; }

Â  Â  Â  Â  .container { background-color: #fff; padding: 25px; border-radius: 8px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); max-width: 900px; margin: auto;}

Â  Â  Â  Â  h1 { text-align: center; margin-bottom: 30px; color: #0078C1; font-weight: 700;}

Â  Â  Â  Â  h2 { margin-top: 25px; color: #0078C1; border-bottom: 2px solid #eee; padding-bottom: 8px;}

Â  Â  Â  Â  label { display: block; margin-top: 15px; font-weight: 600; color: #333; }

Â  Â  Â  Â  input[type="text"], input[type="number"], input[type="date"], input[type="time"], select, textarea {

Â  Â  Â  Â  Â  Â  width: 100%; padding: 12px; margin-top: 5px; border: 1px solid #ddd; border-radius: 6px; box-sizing: border-box; font-size: 1em;

Â  Â  Â  Â  }

Â  Â  Â  Â  textarea { resize: vertical; min-height: 80px; }

Â  Â  Â  Â  input[type="checkbox"] { margin-right: 8px; vertical-align: middle; width: auto; }

Â  Â  Â  Â  button, .remove-hotel-button {

Â  Â  Â  Â  Â  Â  background-color: #007bff; color: white; padding: 12px 20px;

Â  Â  Â  Â  Â  Â  border: none; border-radius: 6px; cursor: pointer; margin-top: 20px; font-size: 1.05em; font-weight: 500;

Â  Â  Â  Â  }

Â  Â  Â  Â  button:hover { background-color: #0056b3; }

Â  Â  Â  Â  .remove-hotel-button { background-color: #dc3545; padding: 5px 10px; font-size: 0.9em; margin-left: 10px; margin-top: 0;}

Â  Â  Â  Â  .form-section { border: 1px solid #e9ecef; padding: 20px; margin-bottom: 25px; border-radius: 8px; background-color: #fdfdfd; }

Â  Â  Â  Â  .hotel-option-group { border: 1px solid #e0e0e0; padding: 15px; margin-top: 15px; border-radius: 8px; background-color: #fafafa; }

Â  Â  Â  Â  .hotel-option-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }

Â  Â  Â  Â  .hidden { display: none; }

Â  Â  Â  Â  #emailOutputContainer { margin-top: 30px; }

Â  Â  Â  Â  #emailOutput { padding: 20px; border: 1px solid #ccc; background-color: #f0f2f5; border-radius: 8px; min-height: 200px; overflow-x: auto;}

Â  Â  Â  Â  .flight-inputs { border: 1px solid #ddd; border-radius: 8px; padding: 10px 15px 15px 15px; margin-top:10px; }

Â  Â  Â  Â  .flight-option-group { border: 1px solid #e0e0e0; padding: 15px; margin-top: 15px; border-radius: 8px; background-color: #fafafa; }

Â  Â  </style>

</head>

<body>

Â  Â  <div class="container">

Â  Â  Â  Â  <h1>GÃ©nÃ©rateur d'e-mail Disney</h1>

Â  Â  Â  Â  <form id="disneyForm">

Â  Â  Â  Â  Â  Â  <div class="form-section">

Â  Â  Â  Â  Â  Â  Â  Â  <h2>Informations GÃ©nÃ©rales</h2>

Â  Â  Â  Â  Â  Â  Â  Â  <label for="client_name">Nom de la personne cliente&nbsp;:</label>

Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="client_name" name="client_name" placeholder="Entrez le nom du client" required>

Â  Â  Â  Â  Â  Â  Â  Â  <label for="adults">Nombre d'adultes&nbsp;:</label>

Â  Â  Â  Â  Â  Â  Â  Â  <input type="number" id="adults" name="adults" min="1" value="2" required>

Â  Â  Â  Â  Â  Â  Â  Â  <label for="children">Nombre d'enfants (0 si aucun)&nbsp;:</label>

Â  Â  Â  Â  Â  Â  Â  Â  <input type="number" id="children" name="children" min="0" value="0" required>

Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div class="form-section">

Â  Â  Â  Â  Â  Â  Â  Â  <h2>HÃ©bergement et Billets</h2>

Â  Â  Â  Â  Â  Â  Â  Â  <label for="booking_type">Type de rÃ©servation&nbsp;:</label>

Â  Â  Â  Â  Â  Â  Â  Â  <select id="booking_type" name="booking_type">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="hotel_tickets">HÃ´tel + Billets</option>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="tickets_only">Billets seulement</option>

Â  Â  Â  Â  Â  Â  Â  Â  </select>

Â  Â  Â  Â  Â  Â  Â  Â  <div id="hotel_options_container">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="hotel_selections"></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button type="button" id="add_hotel_button">Ajouter une option d'hÃ´tel</button>

Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div class="form-section">

Â  Â  Â  Â  Â  Â  Â  Â  <h2>Vols</h2>

Â  Â  Â  Â  Â  Â  Â  Â  <label><input type="checkbox" id="include_flights" name="include_flights"> Inclure les vols&nbsp;?</label>

Â  Â  Â  Â  Â  Â  Â  Â  <div id="flight_details" class="hidden">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label><input type="checkbox" id="flight_too_early" name="flight_too_early"> Il est trop tÃ´t pour rÃ©server les vols (nous surveillons les itinÃ©raires)</label>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="flight_options_section">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="flight_option_count">Nombre d'options de vol&nbsp;:</label>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <select id="flight_option_count" name="flight_option_count">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="1" selected>1</option>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="2">2</option>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="3">3</option>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </select>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="flight_option_groups"></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="multiple_flight_reason" class="hidden">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="flight_multiple_reason">Pourquoi plusieurs options&nbsp;:</label>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <textarea id="flight_multiple_reason" name="flight_multiple_reason" placeholder="Expliquez la raison des multiples choix"></textarea>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div class="form-section">

Â  Â  Â  Â  Â  Â  Â  Â  <h2>Promotion</h2>

Â  Â  Â  Â  Â  Â  Â  Â  <label for="promotion_type">Type de promotion&nbsp;:</label>

Â  Â  Â  Â  Â  Â  Â  Â  <select id="promotion_type" name="promotion_type">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="aucune">Aucune promotion pour l'instant</option>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="specifique">Promotion spÃ©cifique</option>

Â  Â  Â  Â  Â  Â  Â  Â  </select>

Â  Â  Â  Â  Â  Â  Â  Â  <div id="promotion_details" class="hidden">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="promotion_name">Nom de la promotion&nbsp;:</label>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="promotion_name" name="promotion_name" placeholder="Nom de la promotion (ex: Rabais estival)">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="promotion_end_date">Date de fin de la promotion (si applicable)&nbsp;:</label>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="date" id="promotion_end_date" name="promotion_end_date">

Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <button type="submit">GÃ©nÃ©rer l'e-mail</button>

Â  Â  Â  Â  </form>



Â  Â  Â  Â  <div id="emailOutputContainer">

Â  Â  Â  Â  Â  Â  <h2>E-mail GÃ©nÃ©rÃ© (PrÃªt Ã  copier)</h2>

Â  Â  Â  Â  Â  Â  <div id="emailOutput" contenteditable="true"></div>

Â  Â  Â  Â  Â  Â  <button type="button" id="copyHtmlButton">Copier le contenu de l'e-mail</button>

Â  Â  Â  Â  </div>

Â  Â  </div>



Â  Â  <script>

Â  Â  Â  Â  const DISNEY_HOTELS = [

Â  Â  Â  Â  Â  Â  Â // Deluxe Villas

Â  Â  Â  Â  Â  Â  { name: "Bay Lake Tower at Contemporary", description: "Ce croissant de lune moderne adjacent au Contemporary offre des villas luxueuses et une vue imprenable sur Magic Kingdom. Son sky-bridge le connecte directement Ã  l'hÃ´tel principal et au monorail.", level: "Deluxe Villa", pointsForts: ["Distance de marche de Magic Kingdom", "AccÃ¨s Ã  la ligne du monorail", "Vues spectaculaires sur les feux d'artifice", "Piscine privÃ©e avec glissade d'eau"] },

Â  Â  Â  Â  Â  Â  { name: "Villas at Grand Floridian", description: "Le summum du luxe et de l'Ã©lÃ©gance victorienne dans un format de villa spacieuse. Profitez du service impeccable et des restaurants primÃ©s du Grand Floridian, le tout sur la ligne du monorail.", level: "Deluxe Villa", pointsForts: ["HÃ©bergement le plus luxueux de Disney", "Restaurants gastronomiques sur place", "Spa Senses de classe mondiale", "AccÃ¨s direct au monorail"] },

Â  Â  Â  Â  Â  Â  { name: "Polynesian Villas & Bungalows", description: "Ã‰vadez-vous dans un paradis tropical avec ces villas et bungalows sur l'eau. L'ambiance des Ã®les du Pacifique Sud, la vue sur le lagon et l'accÃ¨s au monorail en font une escapade de rÃªve.", level: "Deluxe Villa", pointsForts: ["Bungalows uniques sur pilotis", "Ambiance tropicale immersive", "SituÃ© sur la ligne du monorail", "Excellents restaurants thÃ©matiques ('Ohana)"] },

Â  Â  Â  Â  Â  Â  { name: "BoardWalk Villas", description: "Revivez le charme d'une promenade cÃ´tiÃ¨re du dÃ©but du XXe siÃ¨cle. Ces villas offrent un accÃ¨s direct Ã  l'animation effervescente du BoardWalk, avec ses restaurants, boutiques et spectacles de rue.", level: "Deluxe Villa", pointsForts: ["Distance de marche de EPCOT et Hollywood Studios", "Vie nocturne et restaurants sur le BoardWalk", "Piscine Luna Park sur le thÃ¨me du cirque", "Service de bateau-taxi (Friendship)"] },

Â  Â  Â  Â  Â  Â  { name: "Beach Club Villas", description: "Profitez de l'ambiance dÃ©contractÃ©e d'une villa de la Nouvelle-Angleterre. Le point d'orgue est Stormalong Bay, un incroyable complexe aquatique de 3 acres avec fond de sable et riviÃ¨re tranquille.", level: "Deluxe Villa", pointsForts: ["AccÃ¨s Ã  la meilleure piscine de Disney World", "Ã€ quelques pas de l'entrÃ©e d'EPCOT", "AtmosphÃ¨re balnÃ©aire relaxante", "Restaurant populaire Beaches & Cream"] },

Â  Â  Â  Â  Â  Â  { name: "Riviera Resort", description: "InspirÃ© par l'Ã©lÃ©gance de la Riviera europÃ©enne, cet hÃ´tel sophistiquÃ© allie le glamour europÃ©en Ã  la magie de Disney. Ses studios et villas offrent des vues magnifiques et une dÃ©coration raffinÃ©e.", level: "Deluxe Villa", pointsForts: ["Station principale du Disney Skyliner", "Restaurant sur le toit avec personnages (Topolino's)", "Design europÃ©en Ã©lÃ©gant et artistique", "Piscines magnifiques et jeux d'eau"] },

Â  Â  Â  Â  Â  Â  { name: "Wilderness Lodge - Copper Creek Villas", description: "InspirÃ©es par l'hÃ©ritage ferroviaire du Nord-Ouest Pacifique, ces villas et cabines au bord de l'eau offrent une touche de luxe moderne dans un cadre rustique et sauvage.", level: "Deluxe Villa", pointsForts: ["Cabines privÃ©es luxueuses au bord du lac", "Piscine thÃ©matique avec geyser", "Ambiance Ã  la fois rustique et moderne", "AccÃ¨s par bateau-taxi Ã  Magic Kingdom"] },

Â  Â  Â  Â  Â  Â  { name: "Wilderness Lodge - Boulder Ridge Villas", description: "Adjacent au lodge principal, ce bÃ¢timent Ã©voque le charme des gÃ®tes des parcs nationaux de l'Ouest amÃ©ricain. Une ambiance chaleureuse et rustique, parfaite pour une retraite paisible.", level: "Deluxe Villa", pointsForts: ["AtmosphÃ¨re calme et plus intime", "ThÃ¨me des parcs nationaux amÃ©ricains", "AccÃ¨s facile aux commoditÃ©s du lodge", "Feu de camp et activitÃ©s extÃ©rieures"] },

Â  Â  Â  Â  Â  Â  { name: "Animal Kingdom Lodge - Jambo House Villas", description: "Vivez une expÃ©rience immersive dans le bÃ¢timent principal d'Animal Kingdom Lodge. Le lobby grandiose et les vues directes sur la savane depuis certaines villas sont inoubliables.", level: "Deluxe Villa", pointsForts: ["Vues imprenables sur la savane animaliÃ¨re", "Lobby spectaculaire et collection d'art africain", "AccÃ¨s aux restaurants primÃ©s (Jiko, Boma)", "Piscine Uzima avec vue sur les animaux"] },

Â  Â  Â  Â  Â  Â  { name: "Animal Kingdom Lodge - Kidani Village", description: "Ce bÃ¢timent dÃ©diÃ© aux villas offre une ambiance plus calme et des vues Ã©tendues sur la savane. IdÃ©al pour les familles qui souhaitent plus d'espace et une cuisine complÃ¨te.", level: "Deluxe Villa", pointsForts: ["Excellent pour l'observation des animaux", "Piscine Samawati avec glissades et jeux d'eau", "Restaurant Sanaa avec vue sur la savane", "Villas spacieuses avec cuisines complÃ¨tes"] },

Â  Â  Â  Â  Â  Â  { name: "Saratoga Springs Resort & Spa", description: "InspirÃ© par la ville thermale historique de Saratoga Springs, ce complexe de style victorien propose des villas, un spa complet, et un accÃ¨s facile Ã  Disney Springs par bateau ou Ã  pied.", level: "Deluxe Villa", pointsForts: ["Distance de marche de Disney Springs", "Treehouse Villas uniques en leur genre", "Parcours de golf sur place (Lake Buena Vista)", "Ambiance de station thermale relaxante"] },

Â  Â  Â  Â  Â  Â  { name: "Old Key West Resort", description: "Ã‰voquant l'ambiance dÃ©contractÃ©e de Key West, ce vaste complexe propose des villas parmi les plus spacieuses du site, de magnifiques fairways et une atmosphÃ¨re de communautÃ© insulaire.", level: "Deluxe Villa", pointsForts: ["Villas extrÃªmement spacieuses", "Ambiance dÃ©contractÃ©e et luxuriante", "Restaurant Olivia's CafÃ© (un classique)", "Transport par bateau vers Disney Springs"] },



Â  Â  Â  Â  Â  Â  // Deluxe Resorts

Â  Â  Â  Â  Â  Â  { name: "Contemporary Resort", description: "Iconique et ultra-moderne, cet hÃ´tel en forme de A est le seul oÃ¹ le monorail passe directement Ã  l'intÃ©rieur. Il est si proche de Magic Kingdom que vous pouvez y aller Ã  pied.", level: "Deluxe", pointsForts: ["Le plus proche de Magic Kingdom (Ã  pied)", "Le monorail traverse le lobby de l'hÃ´tel", "Restaurant sur le toit (California Grill)", "Design moderne et vues exceptionnelles"] },

Â  Â  Â  Â  Â  Â  { name: "Grand Floridian Resort & Spa", description: "L'hÃ´tel le plus luxueux et emblÃ©matique de Disney. Son Ã©lÃ©gance victorienne, son service impeccable, son spa de renommÃ©e mondiale et sa proximitÃ© avec Magic Kingdom en font le summum du luxe.", level: "Deluxe", pointsForts: ["Service 5 Ã©toiles et Ã©lÃ©gance victorienne", "Spa Senses de classe mondiale", "Restaurants gastronomiques (Victoria & Albert's)", "Sur la ligne du monorail vers Magic Kingdom"] },

Â  Â  Â  Â  Â  Â  { name: "Polynesian Village Resort", description: "Une escapade tropicale luxuriante qui vous transporte dans les Ã®les du Pacifique Sud. Profitez de son ambiance exotique, de sa plage de sable blanc avec vue sur le chÃ¢teau et de son accÃ¨s direct au monorail.", level: "Deluxe", pointsForts: ["Ambiance des Ã®les du Pacifique Sud", "Vue sur les feux d'artifice de Magic Kingdom", "AccÃ¨s au monorail et aux bateaux-taxis", "Restaurant populaire 'Ohana"] },

Â  Â  Â  Â  Â  Â  { name: "Wilderness Lodge", description: "InspirÃ© des grands lodges des parcs nationaux amÃ©ricains, ce complexe majestueux est un chef-d'Å“uvre d'artisanat. Son lobby spectaculaire avec une cheminÃ©e de 82 pieds et son geyser en font une destination en soi.", level: "Deluxe", pointsForts: ["Lobby et architecture spectaculaires", "Ambiance immersive de parc national", "Transport par bateau vers Magic Kingdom", "Piscine avec geyser 'Fire Rock'"] },

Â  Â  Â  Â  Â  Â  { name: "Yacht Club Resort", description: "Plongez dans l'Ã©lÃ©gance nautique d'un club de yacht de la Nouvelle-Angleterre. Son atmosphÃ¨re est plus formelle que son hÃ´tel jumeau, le Beach Club, avec qui il partage l'exceptionnelle piscine Stormalong Bay.", level: "Deluxe", pointsForts: ["Partage l'accÃ¨s Ã  la piscine Stormalong Bay", "Restaurant signature (Yachtsman Steakhouse)", "AtmosphÃ¨re nautique et raffinÃ©e", "Distance de marche d'EPCOT"] },

Â  Â  Â  Â  Â  Â  { name: "Beach Club Resort", description: "Avec son ambiance dÃ©contractÃ©e de station balnÃ©aire de la Nouvelle-Angleterre, cet hÃ´tel est un favori des familles. Son atout majeur est l'accÃ¨s Ã  Stormalong Bay, un mini parc aquatique avec fond de sable.", level: "Deluxe", pointsForts: ["AccÃ¨s au complexe aquatique Stormalong Bay", "Le plus prÃ¨s de l'entrÃ©e d'EPCOT (Ã  pied)", "Ambiance familiale et ensoleillÃ©e", "Glaces et repas au Beaches & Cream"] },

Â  Â  Â  Â  Â  Â  { name: "BoardWalk Inn", description: "Cet hÃ´tel charmant vous transporte sur une promenade cÃ´tiÃ¨re des annÃ©es 1920. Le soir, le 'Boardwalk' s'anime avec ses restaurants, ses artistes de rue et sa vie nocturne, le tout Ã  quelques pas d'EPCOT.", level: "Deluxe", pointsForts: ["AccÃ¨s Ã  pied Ã  EPCOT et Hollywood Studios", "Promenade animÃ©e avec restaurants et spectacles", "Piscine 'Luna Park' sur le thÃ¨me du carnaval", "Ã‰lÃ©gance d'une Ã©poque rÃ©volue"] },

Â  Â  Â  Â  Â  Â  { name: "Animal Kingdom Lodge", description: "Ã‰vadez-vous dans un lodge africain authentique oÃ¹ l'aventure vous attend Ã  votre fenÃªtre. Cet hÃ´tel majestueux est entourÃ© de savanes luxuriantes, offrant des vues sur plus de 30 espÃ¨ces d'animaux.", level: "Deluxe", pointsForts: ["Vues spectaculaires sur la savane animaliÃ¨re", "Collection d'art africain de calibre mondial", "Restaurants thÃ©matiques exceptionnels (Jiko, Boma)", "Immersion culturelle unique"] },

Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  // Moderate Resorts

Â  Â  Â  Â  Â  Â  { name: "Coronado Springs Resort", description: "Ce complexe tentaculaire allie une architecture coloniale espagnole Ã  l'Ã©lÃ©gance moderne de la tour Gran Destino. Il offre des commoditÃ©s de luxe Ã  un prix de catÃ©gorie modÃ©rÃ©e.", level: "Moderate", pointsForts: ["Ambiance de luxe Ã  prix modÃ©rÃ©", "Options de restauration variÃ©es et excellentes", "Piscine 'The Lost City of Cibola' avec pyramide", "La tour Gran Destino offre des chambres modernes"] },

Â  Â  Â  Â  Â  Â  { name: "Caribbean Beach Resort", description: "Ã‰vadez-vous dans l'ambiance colorÃ©e et tropicale des CaraÃ¯bes. Ce resort tentaculaire est le hub central du Disney Skyliner, offrant un transport rapide et amusant vers deux parcs.", level: "Moderate", pointsForts: ["Hub principal du Disney Skyliner", "Piscine thÃ©matique 'Fuentes del Morro'", "Chambres sur le thÃ¨me des pirates", "Ambiance de vacances tropicales"] },

Â  Â  Â  Â  Â  Â  { name: "Port Orleans - French Quarter", description: "Ce charmant hÃ´tel Ã©voque les rues pavÃ©es et les balcons en fer forgÃ© du Vieux CarrÃ© de La Nouvelle-OrlÃ©ans. Sa petite taille le rend intime et facile Ã  parcourir, avec un seul arrÃªt d'autobus.", level: "Moderate", pointsForts: ["HÃ´tel le plus compact et intime", "Beignets Mickey frais et dÃ©licieux", "Ambiance jazz et romantique", "Service de bateau-taxi vers Disney Springs"] },

Â  Â  Â  Â  Â  Â  { name: "Port Orleans - Riverside", description: "Explorez les bayous rustiques de la Louisiane ou les manoirs Ã©lÃ©gants du Sud. Ce vaste complexe offre une grande variÃ©tÃ© de paysages et une atmosphÃ¨re paisible au bord de la riviÃ¨re.", level: "Moderate", pointsForts: ["Choix entre manoirs ou cabanes rustiques", "Chambres thÃ©matiques 'Royal Rooms'", "AtmosphÃ¨re relaxante au bord de la riviÃ¨re", "ActivitÃ©s comme la pÃªche et les calÃ¨ches"] },

Â  Â  Â  Â  Â  Â  { name: "The Cabins at Fort Wilderness", description: "Offrant une vÃ©ritable immersion dans la nature, ces cabines rustiques sont nichÃ©es dans une forÃªt de 750 acres. Chaque cabine peut loger jusquâ€™Ã  six personnes et dispose d'une cuisine complÃ¨te.", level: "Moderate", pointsForts: ["Cuisine complÃ¨te et barbecue privÃ©", "Immersion totale dans la nature", "Nombreuses activitÃ©s rÃ©crÃ©atives", "Peut accueillir jusqu'Ã  6 personnes"] },

Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  // Value Resorts

Â  Â  Â  Â  Â  Â  { name: "Art of Animation Resort", description: "Plongez littÃ©ralement dans les mondes de NÃ©mo, Cars, Le Roi Lion et La Petite SirÃ¨ne. Cet hÃ´tel est cÃ©lÃ¨bre pour ses suites familiales immersives et sa piscine 'Big Blue', la plus grande de Disney World.", level: "Value", pointsForts: ["Suites familiales thÃ©matiques (jusqu'Ã  6 pers.)", "La plus grande piscine de tout Disney World", "Station dÃ©diÃ©e sur le Disney Skyliner", "DÃ©cors et personnages gÃ©ants spectaculaires"] },

Â  Â  Â  Â  Â  Â  { name: "Pop Century Resort", description: "Voyagez Ã  travers les dÃ©cennies marquantes du XXe siÃ¨cle. Cet hÃ´tel est l'un des favoris pour son excellent rapport qualitÃ©-prix et son accÃ¨s direct et rapide au Disney Skyliner.", level: "Value", pointsForts: ["AccÃ¨s direct au Disney Skyliner", "Excellent rapport qualitÃ©-prix", "RÃ©cemment rÃ©novÃ© avec lits queen", "Ambiance nostalgique et amusante"] },

Â  Â  Â  Â  Â  Â  { name: "All-Star Movies Resort", description: "Vibrez au rythme des classiques du cinÃ©ma Disney dans cet hÃ´tel aux dÃ©cors spectaculaires. IdÃ©al pour les familles, chaque bÃ¢timent est une cÃ©lÃ©bration de films comme Fantasia ou Toy Story.", level: "Value", pointsForts: ["ThÃ©matisation immersive et icÃ´nes gÃ©antes", "L'une des options les plus abordables sur site", "Grande aire de restauration 'World Premiere'", "Piscine sur le thÃ¨me de Fantasia"] },

Â  Â  Â  Â  Â  Â  { name: "All-Star Music Resort", description: "CÃ©lÃ©brez tous les genres musicaux, du calypso au rock'n'roll. C'est le seul hÃ´tel 'All-Star' Ã  proposer des suites familiales, une option Ã©conomique pour les grands groupes.", level: "Value", pointsForts: ["Propose des suites familiales abordables", "Piscine principale en forme de guitare", "ThÃ¨me musical entraÃ®nant et amusant", "Excellent choix pour les fanfares scolaires"] },

Â  Â  Â  Â  Â  Â  { name: "All-Star Sports Resort", description: "Pour les amateurs de sport, cet hÃ´tel est un terrain de jeu gÃ©ant. Les icÃ´nes surdimensionnÃ©es de ballons de football, de battes de baseball et de planches de surf crÃ©ent une atmosphÃ¨re Ã©nergique.", level: "Value", pointsForts: ["ThÃ¨me sportif et dynamique", "Parfait pour les groupes sportifs de jeunes", "Tarifs parmi les plus bas de Disney", "Aires de jeux sur le thÃ¨me du sport"] }

Â  Â  Â  Â  ];



Â  Â  Â  Â  function getHotelByName(name) { return DISNEY_HOTELS.find(hotel => hotel.name === name); }

Â  Â  Â  Â  function formatDateFR(dateStr) { if (!dateStr) return ""; try { const date = new Date(dateStr + 'T00:00:00'); const options = { year: 'numeric', month: 'long', day: 'numeric' }; return date.toLocaleDateString('fr-FR', options); } catch (e) { return dateStr; } }

Â  Â  Â  Â  function formatTime(timeStr) { if (!timeStr) return ""; try { const [hours, minutes] = timeStr.split(':'); return `${String(hours).padStart(2, '0')}h${String(minutes).padStart(2, '0')}`; } catch (e) { return timeStr; } }



Â  Â  Â  Â  function generateEmailHTML(data) {

Â  Â  Â  Â  Â  Â  Â const C = {

Â  Â  Â  Â  Â  Â  Â  Â  blue: '#0078C1',

Â  Â  Â  Â  Â  Â  Â  Â  blueDark: '#005a9c',

Â  Â  Â  Â  Â  Â  Â  Â  orange: '#FF7F50',

Â  Â  Â  Â  Â  Â  Â  Â  textDark: '#222222',

Â  Â  Â  Â  Â  Â  Â  Â  textLight: '#555555',

Â  Â  Â  Â  Â  Â  Â  Â  border: '#EAEAEA',

Â  Â  Â  Â  Â  Â  Â  Â  background: '#001f3f',

Â  Â  Â  Â  Â  Â  Â  Â  white: '#FFFFFF',

Â  Â  Â  Â  Â  Â  Â  Â  blueLight: '#e6f2fa',

Â  Â  Â  Â  Â  Â  Â  Â  orangeLight: '#fff4e6',

Â  Â  Â  Â  Â  Â  Â  Â  level: { value: '#28a745', moderate: '#2196F3', deluxe: '#6f42c1', deluxe_villa: '#9C27B0' },

Â  Â  Â  Â  Â  Â  Â  Â  tags: ['#0078C1', '#5A67D8', '#d9480f', '#0ca678']

Â  Â  Â  Â  Â  Â  };



Â  Â  Â  Â  Â  Â  const S = {

Â  Â  Â  Â  Â  Â  Â  Â  fontStack: `Arial, Helvetica, sans-serif`,

Â  Â  Â  Â  Â  Â  Â  Â  p: `font-family: Arial, Helvetica, sans-serif; font-size: 16px; line-height: 1.6; color: ${C.textDark}; margin: 1em 0; text-align: justify;`,

Â  Â  Â  Â  Â  Â  Â  Â  strong: `font-weight: bold;`,

Â  Â  Â  Â  Â  Â  Â  Â  italic: `font-style: italic;`,

Â  Â  Â  Â  Â  Â  };



const LOGOS = {

Â  Â  earmarked: "https://boisterous-rabanadas-5fcb72.netlify.app/Logo_Fond_Blanc_2.png",

Â  Â  agency: "https://boisterous-rabanadas-5fcb72.netlify.app/Disney-EarMarked.png"

};

Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  function createBanner(text, type = 'main') {

Â  Â  Â  Â  Â  Â  Â  Â  let style, titleStyle, wrapperStyle;

Â  Â  Â  Â  Â  Â  Â  Â  switch (type) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  case 'closing': style = `background-color: ${C.orange}; padding: 12px 30px;`; titleStyle = `font-family: Georgia, serif; font-size: 24px; color: ${C.white}; font-weight: bold; text-transform: uppercase; margin: 0; text-align: center; letter-spacing: 1px;`; wrapperStyle = `padding: 5px 0;`; break;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  case 'sub': style = `background-color: ${C.blue}; padding: 10px 30px;`; titleStyle = `font-family: ${S.fontStack}; font-size: 20px; color: ${C.white}; font-weight: bold; text-transform: uppercase; margin: 0; text-align: center;`; wrapperStyle = `padding: 0;`; break;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  case 'main': default: style = `background: linear-gradient(to right, ${C.blue}, ${C.blueDark}); padding: 25px 30px;`; titleStyle = `font-family: Georgia, serif; font-size: 32px; color: ${C.white}; font-weight: bold; text-transform: uppercase; margin: 0; text-align: center; letter-spacing: 1.5px; line-height:1.2;`; wrapperStyle = `border-top: 1px solid rgba(255,255,255,0.3); border-bottom: 1px solid rgba(255,255,255,0.3); padding: 10px 0;`; break;

Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  return `<tr><td style="${style}"><div style="${wrapperStyle}"><h1 style="${titleStyle}">${text}</h1></div></td></tr>`;

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  function createCalloutBox(title, text, color) {

Â  Â  Â  Â  Â  Â  Â  Â  return `<table width="100%" border="0" cellpadding="0" cellspacing="0" style="margin-top:20px;"><tr><td style="padding: 20px 25px; background-color: ${C[`${color}Light`]}; border-left: 5px solid ${C[color]}; border-radius: 0 8px 8px 0;"><h2 style="font-family:${S.fontStack}; font-size:18px; color:${C[color]}; margin:0 0 10px 0; font-weight:bold;">${title}</h2><p style="font-family:${S.fontStack}; margin:0; text-align:justify;">${text}</p></td></tr></table>`;

Â  Â  Â  Â  Â  Â  }



Â  Â  Â  Â  Â  Â  const T = {

Â  Â  Â  Â  Â  Â  Â  Â  banner1: "Votre Aventure Magique Commence Ici",

Â  Â  Â  Â  Â  Â  Â  Â  greeting: `Bonjour <strong style="${S.strong}">${data.client_name || 'estimÃ©(e) voyageur(se)'}</strong>,`,

Â  Â  Â  Â  Â  Â  Â  Â  intro1: `Je vous Ã©cris au nom de Voyages en Route, oÃ¹ nous avons le plaisir dâ€™accompagner les familles et voyageurs dans la planification de leurs sÃ©jours. Je m'appelle Pierre-Luc Morin et je serais votre conseiller en voyages spÃ©cialisÃ© en destinations <strong style="${S.strong}">Disney et Universal</strong>.`,

Â  Â  Â  Â  Â  Â  Â  Â  intro2: `Merci de nous avoir confiÃ© votre projet de voyage. Jâ€™ai pris soin de prÃ©parer une proposition basÃ©e sur les critÃ¨res que vous avez partagÃ©s dans votre demande. Cette soumission est <strong style="${S.strong}">ajustable</strong>, et je serai heureux dâ€™explorer avec vous diffÃ©rentes options afin de vous crÃ©er une expÃ©rience <strong style="${S.strong}">propre Ã  vous et inoubliable</strong>.`,

Â  Â  Â  Â  Â  Â  Â  Â  disney_advantages_intro: `SÃ©journer dans un hÃ´tel Disney, câ€™est profiter dâ€™un univers immersif du matin au soir, mais aussi de <strong style="${S.strong}">nombreux avantages exclusifs</strong>&nbsp;:</p>`,

Â  Â  Â  Â  Â  Â  Â  Â  disney_advantages_list_items: [

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  `<strong style="${S.strong}">Lâ€™Early Theme Park Entry</strong>, pour accÃ©der aux parcs avant lâ€™ouverture officielle&nbsp;;`,

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  `Le <strong style="${S.strong}">transport gratuit</strong> vers tous les parcs et sites Disney (excluant les transferts aÃ©roports)&nbsp;;`,

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  `Lâ€™<strong style="${S.strong}">accÃ¨s simplifiÃ©</strong> aux rÃ©servations avec lâ€™application Disney Experience&nbsp;;`,

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  `Et un <strong style="${S.strong}">service client exceptionnel</strong>, signÃ© Disney, Ã  chaque Ã©tape de votre sÃ©jour.`

Â  Â  Â  Â  Â  Â  Â  Â  ],

Â  Â  Â  Â  Â  Â  Â  Â  disney_price_disclaimer: "Veuillez noter que tous les prix pour l'hÃ©bergement et les billets Disney sont indiquÃ©s en dollars amÃ©ricains (USD) et sont sujets Ã  disponibilitÃ©.",

Â  Â  Â  Â  Â  Â  Â  Â  tickets_only_price_disclaimer: "Veuillez noter que tous les prix des billets Disney sont indiquÃ©s en dollars amÃ©ricains (USD) et sont sujets Ã  disponibilitÃ©.",

Â  Â  Â  Â  Â  Â  Â  Â  banner_travel_fees: "ItinÃ©raire de Vol",

Â  Â  Â  Â  Â  Â  Â  Â  flight_intro: "Pour complÃ©ter votre voyage vers la magie, voici les dÃ©tails concernant le transport aÃ©rien que nous avons explorÃ©&nbsp;:",

Â  Â  Â  Â  Â  Â  Â  Â  flight_too_early: "Il est encore un peu tÃ´t pour rÃ©server les vols, car plusieurs compagnies aÃ©riennes nâ€™ont pas encore publiÃ© leurs horaires. Cela dit, nous suivons la situation de prÃ¨s afin de vous proposer les meilleures options dÃ¨s quâ€™elles seront disponibles. Nâ€™hÃ©sitez pas Ã  me faire part de vos prÃ©fÃ©rences en matiÃ¨re dâ€™horaires ou de compagnies, pour que je puisse mieux cibler ce qui vous conviendrait le mieux.",

Â  Â  Â  Â  Â  Â  Â  Â  flight_price_info: `<em style="${S.italic}">Les prix sont Ã  titre indicatif et peuvent changer Ã  tout moment.</em>`,

Â  Â  Â  Â  Â  Â  Â  Â  flight_important_label: `IMPORTANT`,

Â  Â  Â  Â  Â  Â  Â  Â  flight_important_text: `Les tarifs aÃ©riens sont dynamiques et peuvent changer jusqu'Ã  la rÃ©servation. Des frais de service de <strong style="${S.strong}">50$ CAD par personne</strong> s'appliquent pour la rÃ©servation des vols via nos services. En me confiant vos vols, je m'occupe de tout dÃ©sagrÃ©ment potentiel. Si vous optez pour une rÃ©servation personnelle, ces frais ne s'appliquent pas, mais le support en cas de problÃ¨me avec les vols ne sera pas inclus pour cette portion.`,

Â  Â  Â  Â  Â  Â  Â  Â  banner_magic_continues: "La Magie Continue...",

Â  Â  Â  Â  Â  Â  Â  Â  closing1: `Prenez le temps de rÃªver Ã  ces options et de considÃ©rer ce qui ferait de ce voyage une expÃ©rience <strong style="${S.strong}">vÃ©ritablement inoubliable</strong>. Je suis Ã  votre <strong style="${S.strong}">entiÃ¨re disposition</strong> pour rÃ©pondre Ã  toutes vos questions, affiner chaque dÃ©tail ou procÃ©der Ã  la rÃ©servation de cette <em style="${S.italic}">aventure mÃ©morable</em>.`,

Â  Â  Â  Â  Â  Â  Â  Â  closing2: `N'hÃ©sitez pas Ã  me joindre par courriel (en rÃ©pondant simplement Ã  celui-ci) ou par tÃ©lÃ©phone au <strong style="${S.strong}">819-347-9103</strong>. <strong style="${S.strong}"><em style="${S.italic}">Merci de me faire savoir si le message a bien Ã©tÃ© reÃ§u</em></strong>.`,

Â  Â  Â  Â  Â  Â  Â  Â  closing3: `Merci encore pour votre confiance. J'ai sincÃ¨rement hÃ¢te de transformer ce <strong style="${S.strong}">rÃªve Disney</strong> en une <strong style="${S.strong}">magnifique rÃ©alitÃ© pour vous&nbsp;!</strong>`

Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  let introSection = `<p style="${S.p}">${T.greeting}</p><p style="${S.p}">${T.intro1}</p><p style="${S.p}">${T.intro2}</p>`;

Â  Â  Â  Â  Â  Â  let hotelSection = '';

Â  Â  Â  Â  Â  Â  const selectedHotels = data.hotels || [];



Â  Â  Â  Â  Â  Â  if (data.booking_type === 'hotel_tickets' && selectedHotels.length > 0) {

if (selectedHotels.length === 1) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const hotel = selectedHotels[0];

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const levelColor = C.level[hotel.level.toLowerCase().replace(/ /g, '_')] || C.textLight;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  let prosList = `<span style="background-color:${levelColor}; color:${C.white}; padding: 5px 12px; margin: 0 8px 8px 0; border-radius: 15px; font-size: 14px; font-weight: bold; display:inline-block;">${hotel.level}</span>`;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  hotel.pointsForts.forEach((p, i) => {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const tagColor = C.tags[i % C.tags.length];

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  prosList += `<span style="display:inline-block; background-color:${tagColor}; color:${C.white}; padding: 5px 12px; margin: 0 8px 8px 0; border-radius: 15px; font-size: 14px; font-weight: bold;">${p}</span>`;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });



Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  let hotelCard = `

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="hotel-card" style="margin-top: 25px; border: 1px solid ${C.border}; border-radius: 8px;">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="background-color:${C.blue}; color:${C.white}; padding:15px 20px; border-radius: 8px 8px 0 0;">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <strong style="font-family:${S.fontStack}; font-size:20px;">${hotel.name}</strong>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="background-color:${C.white}; padding: 20px;">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p style="font-family:${S.fontStack}; font-size:15px; line-height:1.5; color:${C.textLight}; margin:0 0 15px 0; text-align:justify;">${hotel.description}</p>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="padding:10px 0;">${prosList}</div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="background-color:${C.blueLight}; padding: 15px 20px; text-align:center; border-radius: 0 0 8px 8px; border-top: 1px solid ${C.border};">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span style="font-size:14px; color:${C.textLight}; font-weight:bold; text-transform:uppercase;">PRIX DU FORFAIT</span><br>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <strong style="font-size:28px; color:${C.textDark}; line-height:1.2;">${hotel.price ? hotel.price + '&nbsp;USD' : 'Voir PDF'}</strong>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  `;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  hotelSection += `<p style="${S.p}">Pour votre sÃ©jour, voici l'option que j'ai sÃ©lectionnÃ©e pour vous :</p>${hotelCard}`;

Â  Â  Â  Â  Â  Â  Â  Â  } else {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  hotelSection += `<p style="${S.p}">Voici plusieurs options dâ€™hÃ©bergement pour votre sÃ©jour. Chaque proposition ci-dessous correspond Ã  un forfait dÃ©taillÃ© dans un document PDF distinct.</p>`;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  let hotelCards = '';

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  selectedHotels.forEach(hotel => {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const levelColor = C.level[hotel.level.toLowerCase().replace(/ /g, '_')] || C.textLight;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  let prosList = `<span style="background-color:${levelColor}; color:${C.white}; padding: 5px 12px; margin: 0 8px 8px 0; border-radius: 15px; font-size: 14px; font-weight: bold; display:inline-block;">${hotel.level}</span>`;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  hotel.pointsForts.forEach((p, i) => {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const tagColor = C.tags[i % C.tags.length];

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  prosList += `<span style="display:inline-block; background-color:${tagColor}; color:${C.white}; padding: 5px 12px; margin: 0 8px 8px 0; border-radius: 15px; font-size: 14px; font-weight: bold;">${p}</span>`;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });



Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  hotelCards += `

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="hotel-card" style="margin-top: 25px; border: 1px solid ${C.border}; border-radius: 8px;">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="background-color:${C.blue}; color:${C.white}; padding:15px 20px; border-radius: 8px 8px 0 0;">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <strong style="font-family:${S.fontStack}; font-size:20px;">${hotel.name}</strong>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="background-color:${C.white}; padding: 20px;">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p style="font-family:${S.fontStack}; font-size:15px; line-height:1.5; color:${C.textLight}; margin:0 0 15px 0; text-align:justify;">${hotel.description}</p>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="padding:10px 0;">${prosList}</div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="background-color:${C.blueLight}; padding: 15px 20px; text-align:center; border-radius: 0 0 8px 8px; border-top: 1px solid ${C.border};">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span style="font-size:14px; color:${C.textLight}; font-weight:bold; text-transform:uppercase;">PRIX DU FORFAIT</span><br>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <strong style="font-size:28px; color:${C.textDark}; line-height:1.2;">${hotel.price ? hotel.price + '&nbsp;USD' : 'Voir PDF'}</strong>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  `;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  hotelSection += hotelCards;

Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  hotelSection += `<p style="${S.p} margin-top:20px;">Chaque proposition de forfait inclut l'hÃ©bergement Ã  l'hÃ´tel ainsi que les billets d'entrÃ©e pour les parcs Disney. Tous les autres dÃ©tails, inclusions et conditions se trouvent dans le ou les documents PDF correspondants.</p>`

Â  Â  Â  Â  Â  Â  Â  Â  let advantagesList = T.disney_advantages_list_items.map(item => `<li style="margin-bottom:8px;"><span style="color:${C.blue}; font-size:18px; vertical-align:middle; margin-right:8px; font-weight:bold;">&#10004;</span><span style="vertical-align:middle;">${item}</span></li>`).join('');

Â  Â  Â  Â  Â  Â  Â  Â  hotelSection += `<p style="${S.p} margin-top:30px; text-align:left;">${T.disney_advantages_intro}<ul style="margin:1em 0; padding:0; list-style-type:none; text-align:left;">${advantagesList}</ul>`;



Â  Â  Â  Â  Â  Â  } else if (data.booking_type === 'tickets_only') {

Â  Â  Â  Â  Â  Â  Â  Â  hotelSection = `<p style="${S.p}">Jâ€™ai prÃ©parÃ© pour vous un document ci-joint indiquant le prix ainsi que les conditions applicables aux billets de parc.</p>`;

Â  Â  Â  Â  Â  Â  }



Â  Â  Â  Â  Â  Â  let promoText = "";

Â  Â  Â  Â  Â  Â  if (data.promotion_type === 'aucune') {

Â  Â  Â  Â  Â  Â  Â  Â  promoText = `Pour garantir votre place, un dÃ©pÃ´t de seulement <strong style="${S.strong}">200 USD</strong> est requis. Les promotions Disney deviennent souvent disponibles et sont parfois complÃ¨tement rÃ©servÃ©es Ã  l'intÃ©rieur de quelques heures. Il est donc important de rÃ©server d'avance pour que je sois en mesure de les obtenir pour vous de maniÃ¨re rapide et systÃ©matique, afin que vous ayez toujours le meilleur rapport qualitÃ©-prix. Le reste de la balance de paiement est aussi Ã  effectuer 30 jours avant le check-in.`;

Â  Â  Â  Â  Â  Â  } else {

Â  Â  Â  Â  Â  Â  Â  Â  let promoEndDateInfo = data.promotion_end_date ? ` (prend fin le <strong style="${S.strong}">${formatDateFR(data.promotion_end_date)}</strong>)` : "";

Â  Â  Â  Â  Â  Â  Â  Â  let promoNameInfo = data.promotion_name ? `&nbsp;: <strong style="${S.strong}">${data.promotion_name}</strong>` : "";

Â  Â  Â  Â  Â  Â  Â  Â  promoText = `Une promotion est applicable pour votre sÃ©jour${promoNameInfo}${promoEndDateInfo}. Lâ€™offre est cependant <em style="${S.italic}">limitÃ©e</em>. Pour garantir votre place au cÅ“ur de la magie, un dÃ©pÃ´t de seulement <strong style="${S.strong}">200 USD</strong> est requis. Ce dÃ©pÃ´t est <strong style="${S.strong}">entiÃ¨rement remboursable jusqu'Ã  30 jours avant votre arrivÃ©e</strong>, vous offrant une flexibilitÃ© totale. Le reste de la balance de paiement est aussi Ã  effectuer 30 jours avant le check-in.`;

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  let promotionSection = createCalloutBox("PROMOTIONS ET DÃ‰PÃ”T REQUIS", promoText, "orange");

Â  Â  Â  Â  Â  Â  let priceDisclaimer = (data.booking_type === 'hotel_tickets' && selectedHotels.length > 0) ? T.disney_price_disclaimer : T.tickets_only_price_disclaimer;



Â  Â  Â  Â  Â  Â  let flightSection = '';

Â  Â  Â  Â  Â  Â  let flightBlock = '';

Â  Â  Â  Â  Â  Â  if (data.include_flights) {

Â  Â  Â  Â  Â  Â  Â  Â  const hasFlightInfo = [

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  data.departure_date_aller,

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  data.departure_time_aller,

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  data.departure_airport_aller,

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  data.arrival_airport_aller,

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  data.flight_multiple_reason,

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ...(data.flights || []).flatMap(f => Object.values(f))

Â  Â  Â  Â  Â  Â  Â  Â  ].some(v => v && v.toString().trim() !== '');



Â  Â  Â  Â  Â  Â  Â  Â  if (hasFlightInfo) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const arrow = `<span style="color:${C.orange}; font-weight:bold; font-size:24px; line-height:1;">&nbsp;&rarr;&nbsp;</span>`;



Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  let flightDetails = '';

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (data.flight_too_early) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  flightDetails = `<p style="${S.p}">${T.flight_too_early}</p>`;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  flightDetails = `<p style="${S.p}">${T.flight_intro}</p>`;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if ((data.flights || []).length > 1 && data.flight_multiple_reason) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  flightDetails += `<p style="${S.p} font-style:italic;">${data.flight_multiple_reason.replace(/\n/g,'<br>')}</p>`;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }



Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (data.flights || []).forEach((f, idx) => {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  flightDetails += `<div style="border: 1px solid #e0e0e0; padding: 15px; margin-top: 15px; border-radius: 8px; background-color: #fafafa;">`;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if ((data.flights || []).length > 1) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  flightDetails += `<strong>Option ${idx + 1}</strong>`;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  flightDetails += ` <div style="border: 1px solid #ddd; border-radius: 8px; padding: 10px 15px 15px 15px; margin-top:10px;"><h3>Vol aller</h3><table width="100%" border="0" cellpadding="0" cellspacing="0"><tr><td class="flight-column" style="width:45%; text-align:center; vertical-align:top;"><div style="font-size:16px; color:${C.textLight}; text-transform:uppercase; margin-bottom:10px;">DÃ©part</div><div style="font-size:20px; font-weight:bold; color:${C.blue}; margin-bottom:10px;">${f.departure_airport_aller || 'N/A'}</div><table border="0" cellpadding="0" cellspacing="0" style="margin:0 auto; text-align:left;"><tr><td style="padding-bottom:10px;">ðŸ“…&nbsp;${formatDateFR(f.departure_date_aller)}</td></tr><tr><td>ðŸ•’&nbsp;${formatTime(f.departure_time_aller)}</td></tr></table></td><td class="flight-arrow" style="width:10%; text-align:center; vertical-align:top;">${arrow}</td><td class="flight-column" style="width:45%; text-align:center; vertical-align:top;"><div style="font-size:16px; color:${C.textLight}; text-transform:uppercase; margin-bottom:10px;">ArrivÃ©e</div><div style="font-size:20px; font-weight:bold; color:${C.blue}; margin-bottom:10px;">${f.arrival_airport_aller || 'N/A'}</div><table border="0" cellpadding="0" cellspacing="0" style="margin:0 auto; text-align:left;"><tr><td style="padding-bottom:10px;">ðŸ“…&nbsp;${formatDateFR(f.arrival_date_aller)}</td></tr><tr><td>ðŸ•’&nbsp;${formatTime(f.arrival_time_aller)}</td></tr></table></td></tr><tr><td colspan="3" style="padding-top:10px; text-align:center;"><div style="font-size:14px; color:${C.textLight}; line-height:1.3;">${f.airline_aller || ''}<br>${f.flight_number_aller || ''}</div></td></tr></table></div>`;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  flightDetails += `<div style="border: 1px solid #ddd; border-radius: 8px; padding: 10px 15px 15px 15px; margin-top:10px;"><h3>Vol retour</h3><table width="100%" border="0" cellpadding="0" cellspacing="0"><tr><td class="flight-column" style="width:45%; text-align:center; vertical-align:top;"><div style="font-size:16px; color:${C.textLight}; text-transform:uppercase; margin-bottom:10px;">DÃ©part</div><div style="font-size:20px; font-weight:bold; color:${C.blue}; margin-bottom:10px;">${f.departure_airport_retour || 'N/A'}</div><table border="0" cellpadding="0" cellspacing="0" style="margin:0 auto; text-align:left;"><tr><td style="padding-bottom:10px;">ðŸ“…&nbsp;${formatDateFR(f.departure_date_retour)}</td></tr><tr><td>ðŸ•’&nbsp;${formatTime(f.departure_time_retour)}</td></tr></table></td><td class="flight-arrow" style="width:10%; text-align:center; vertical-align:top;">${arrow}</td><td class="flight-column" style="width:45%; text-align:center; vertical-align:top;"><div style="font-size:16px; color:${C.textLight}; text-transform:uppercase; margin-bottom:10px;">ArrivÃ©e</div><div style="font-size:20px; font-weight:bold; color:${C.blue}; margin-bottom:10px;">${f.arrival_airport_retour || 'N/A'}</div><table border="0" cellpadding="0" cellspacing="0" style="margin:0 auto; text-align:left;"><tr><td style="padding-bottom:10px;">ðŸ“…&nbsp;${formatDateFR(f.arrival_date_retour)}</td></tr><tr><td>ðŸ•’&nbsp;${formatTime(f.arrival_time_retour)}</td></tr></table></td></tr><tr><td colspan="3" style="padding-top:10px; text-align:center;"><div style="font-size:14px; color:${C.textLight}; line-height:1.3;">${f.airline_retour || ''}<br>${f.flight_number_retour || ''}</div></td></tr></table></div>`;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  flightDetails += `<div style="background-color:${C.blueLight}; padding: 15px 20px; text-align:center; border-radius: 0 0 8px 8px; border-top: 1px solid ${C.border};"><span style="font-size:14px; color:${C.textLight}; font-weight:bold; text-transform:uppercase;">PRIX APPROXIMATIF DES VOLS</span><br><strong style="font-size:28px; color:${C.textDark}; line-height:1.2;">${f.flight_price ? f.flight_price + '&nbsp;CAD' : 'N/A'}</strong></div>`;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (f.flight_notes) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  flightDetails += `<p style="${S.p} font-style:italic; font-weight:bold; color:${C.textLight}; border-left:3px solid ${C.border}; padding-left:15px; margin-top:20px;">${f.flight_notes.replace(/\n/g,'<br>')}</p>`;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  flightDetails += `</div>`;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });



Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  flightDetails += createCalloutBox(T.flight_important_label, T.flight_important_text, 'orange');

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  flightDetails += `<p style="${S.p} font-size:14px; color:${C.textLight}; text-align:left; margin-top:20px;">${T.flight_price_info}</p>`;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }



Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  flightSection = `<tr><td style="padding: 20px 30px 30px 30px;">${flightDetails}</td></tr>`;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  flightBlock = `${createBanner(T.banner_travel_fees, 'sub')}${flightSection}`;

Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  }



Â  Â  Â  Â  Â  Â  let closingSection = `<p style="${S.p}">${T.closing1}</p><p style="${S.p}">${T.closing2}</p><p style="${S.p}">${T.closing3}</p>`;

Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  const hotelBannerText = data.booking_type === 'tickets_only' ? "Billets de Parc Disney" : "Forfaits HÃ´tel & Billets Disney";



Â  Â  Â  Â  Â  Â  return `<!DOCTYPE html>

<html lang="fr" xmlns="http://www.w3.org/1999/xhtml" xmlns:o="urn:schemas-microsoft-com:office:office">

<head>

Â  <meta charset="UTF-8">

Â  <meta name="viewport" content="width=device-width,initial-scale=1">

Â  <meta name="x-apple-disable-message-reformatting">

Â  <meta name="color-scheme" content="light dark">

Â  <meta name="supported-color-schemes" content="light dark">

Â  <title>${T.banner1}</title>

Â  <style>

Â  Â  :root {

Â  Â  Â  color-scheme: light dark;

Â  Â  Â  supported-color-schemes: light dark;

Â  Â  }

Â  Â  .logo-background {

Â  Â  Â  background-color: #001f3f !important;

Â  Â  }

Â  Â  .logo-container {

Â  Â  Â  background-color: #e9f2f9;

Â  Â  Â  padding: 20px 30px;

Â  Â  Â  border-radius: 8px;

Â  Â  Â  max-width: 420px;

Â  Â  Â  margin: auto;

Â  Â  }

Â  Â  /* Force text and background colors in dark mode */

Â  Â  @media (prefers-color-scheme: dark) {

Â  Â  Â  body, table, td, p, span, a, h1, h2, h3, h4 {

Â  Â  Â  Â  color: #ffffff !important;

Â  Â  Â  }

Â  Â  Â  body, table, td {

Â  Â  Â  Â  background-color: #001f3f !important;

Â  Â  Â  }

Â  Â  Â  .logo-background {

Â  Â  Â  Â  background-color: #001f3f !important;

Â  Â  Â  }

Â  Â  }

Â  </style>

</head>

<body style="margin:0; padding:0; background-color:${C.background};" bgcolor="${C.background}" data-ogsb data-ogsc><table width="100%" border="0" cellpadding="0" cellspacing="0" role="presentation" style="background-color:${C.background};"><tr><td align="center"><table width="680" border="0" cellpadding="0" cellspacing="0" role="presentation" style="width: 680px; max-width: 100%; margin: 20px auto; background-color: ${C.white};"

<tr>

Â  <td class="logo-background" align="center" style="padding:20px 0; background-color:#001f3f;">

Â  Â  <table class="logo-container" border="0" cellpadding="0" cellspacing="0" role="presentation">

Â  Â  Â  <tr>

Â  Â  Â  Â  <td align="center" style="width:50%;">

Â  Â  Â  Â  Â  <img src="${LOGOS.earmarked}" alt="Logo Earmarked" style="max-width:150px; height:auto; display:block; margin:0 auto;">

Â  Â  Â  Â  </td>

Â  Â  Â  Â  <td align="center" style="width:50%;">

Â  Â  Â  Â  Â  <img src="${LOGOS.agency}" alt="Logo agence" style="max-width:150px; height:auto; display:block; margin:0 auto;">

Â  Â  Â  Â  </td>

Â  Â  Â  </tr>

Â  Â  </table>

Â  </td>

</tr>



${createBanner(T.banner1, 'main')}



<tr><td style="padding: 20px 30px 30px 30px;">${introSection}</td></tr>

Â  Â  Â  Â  Â  Â  Â  Â  ${createBanner(hotelBannerText, 'sub')}

Â  Â  Â  Â  Â  Â  Â  Â  <tr><td style="padding: 20px 30px 10px 30px;">${hotelSection}</td></tr>

Â  Â  Â  Â  Â  Â  Â  Â  <tr><td style="padding: 10px 30px 30px 30px;">${promotionSection}</td></tr>

Â  Â  Â  Â  Â  Â  Â  Â  <tr><td style="padding: 0 30px 30px 30px;"><p style="${S.p} font-size:14px; color:${C.textLight}; text-align:center; ${S.italic}">${priceDisclaimer}</p></td></tr>

Â  Â  Â  Â  Â  Â  Â  Â  ${flightBlock}

Â  Â  Â  Â  Â  Â  Â  Â  ${createBanner(T.banner_magic_continues, 'closing')}

Â  Â  Â  Â  Â  Â  Â  Â  <tr><td style="padding: 20px 30px 30px 30px;">${closingSection}</td></tr>

Â  Â  Â  Â  Â  Â  </table></td></tr></table></body></html>`;

Â  Â  Â  Â  }



Â  Â  Â  Â  // --- Le reste du script JS pour le formulaire reste identique ---

Â  Â  Â  Â  document.addEventListener('DOMContentLoaded', function() {

Â  Â  Â  Â  Â  Â  const hotelSelectionsDiv = document.getElementById('hotel_selections');

Â  Â  Â  Â  Â  Â  const addHotelButton = document.getElementById('add_hotel_button');

Â  Â  Â  Â  Â  Â  let hotelCounter = 0;



Â  Â  Â  Â  Â  Â  function createHotelSelector() {

Â  Â  Â  Â  Â  Â  Â  Â  hotelCounter++;

Â  Â  Â  Â  Â  Â  Â  Â  const groupDiv = document.createElement('div');

Â  Â  Â  Â  Â  Â  Â  Â  groupDiv.classList.add('hotel-option-group');

Â  Â  Â  Â  Â  Â  Â  Â  groupDiv.id = `hotel_group_${hotelCounter}`;

Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  let content = `

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="hotel-option-header">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label>Option d'hÃ´tel</label>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button type="button" class="remove-hotel-button" title="Supprimer cet hÃ´tel">Supprimer</button>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <select name="hotel_name" required>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="" disabled selected>SÃ©lectionnez un hÃ´tel</option>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${DISNEY_HOTELS.sort((a,b) => a.name.localeCompare(b.name)).map(hotel => `<option value="${hotel.name}">${hotel.name}</option>`).join('')}

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </select>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="hotel_price_${hotelCounter}">Prix du Forfait (USD)&nbsp;:</label>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="number" name="hotel_price" id="hotel_price_${hotelCounter}" placeholder="Ex: 4500.50" step="0.01">

Â  Â  Â  Â  Â  Â  Â  Â  `;

Â  Â  Â  Â  Â  Â  Â  Â  groupDiv.innerHTML = content;



Â  Â  Â  Â  Â  Â  Â  Â  groupDiv.querySelector('.remove-hotel-button').addEventListener('click', function() {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  groupDiv.remove();

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  updateAddHotelButtonState();

Â  Â  Â  Â  Â  Â  Â  Â  });



Â  Â  Â  Â  Â  Â  Â  Â  return groupDiv;

Â  Â  Â  Â  Â  Â  }



Â  Â  Â  Â  Â  Â  function updateAddHotelButtonState() {

Â  Â  Â  Â  Â  Â  Â  Â  const currentHotelSelectors = hotelSelectionsDiv.querySelectorAll('.hotel-option-group').length;

Â  Â  Â  Â  Â  Â  Â  Â  addHotelButton.disabled = currentHotelSelectors >= 5;

Â  Â  Â  Â  Â  Â  Â  Â  addHotelButton.textContent = currentHotelSelectors >= 5 ? "Maximum 5 hÃ´tels atteints" : "Ajouter une option d'hÃ´tel";

Â  Â  Â  Â  Â  Â  }



Â  Â  Â  Â  Â  Â  addHotelButton.addEventListener('click', function() {

Â  Â  Â  Â  Â  Â  Â  Â  if (hotelSelectionsDiv.querySelectorAll('.hotel-option-group').length < 5) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  hotelSelectionsDiv.appendChild(createHotelSelector());

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  updateAddHotelButtonState();

Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  });



Â  Â  Â  Â  Â  Â  hotelSelectionsDiv.appendChild(createHotelSelector());

Â  Â  Â  Â  Â  Â  updateAddHotelButtonState();



Â  Â  Â  Â  Â  Â  const flightGroupsDiv = document.getElementById('flight_option_groups');

Â  Â  Â  Â  Â  Â  const flightOptionCountSelect = document.getElementById('flight_option_count');

Â  Â  Â  Â  Â  Â  const multipleFlightReasonDiv = document.getElementById('multiple_flight_reason');

Â  Â  Â  Â  Â  Â  const flightTooEarlyCheckbox = document.getElementById('flight_too_early');

Â  Â  Â  Â  Â  Â  const flightOptionsSection = document.getElementById('flight_options_section');

Â  Â  Â  Â  Â  Â  let flightGroups = [];



Â  Â  Â  Â  Â  Â  function createFlightGroup(index) {

Â  Â  Â  Â  Â  Â  Â  Â  const wrapper = document.createElement('div');

Â  Â  Â  Â  Â  Â  Â  Â  wrapper.classList.add('flight-option-group');

Â  Â  Â  Â  Â  Â  Â  Â  wrapper.innerHTML = `

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3>Option ${index}</h3>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="flight-inputs">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3>Vol Aller</h3>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="departure_date_aller_${index}">Date de dÃ©part (Aller)&nbsp;:</label>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="date" id="departure_date_aller_${index}" name="departure_date_aller_${index}">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="departure_time_aller_${index}">Heure de dÃ©part (Aller)&nbsp;:</label>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="time" id="departure_time_aller_${index}" name="departure_time_aller_${index}">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="departure_airport_aller_${index}">AÃ©roport de dÃ©part (Aller)&nbsp;:</label>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="departure_airport_aller_${index}" name="departure_airport_aller_${index}" placeholder="Ex: YUL - MontrÃ©al">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="arrival_airport_aller_${index}">AÃ©roport d'arrivÃ©e (Aller)&nbsp;:</label>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="arrival_airport_aller_${index}" name="arrival_airport_aller_${index}" placeholder="Ex: MCO - Orlando" value="MCO - Orlando">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="arrival_date_aller_${index}">Date d'arrivÃ©e (Aller)&nbsp;:</label>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="date" id="arrival_date_aller_${index}" name="arrival_date_aller_${index}">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="arrival_time_aller_${index}">Heure d'arrivÃ©e (Aller)&nbsp;:</label>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="time" id="arrival_time_aller_${index}" name="arrival_time_aller_${index}">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="airline_aller_${index}">Compagnie AÃ©rienne (Aller)&nbsp;:</label>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="airline_aller_${index}" name="airline_aller_${index}" placeholder="Ex: Air Canada">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="flight_number_aller_${index}">NumÃ©ro de vol (Aller)&nbsp;:</label>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="flight_number_aller_${index}" name="flight_number_aller_${index}" placeholder="Ex: AC1676">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="flight-inputs">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3>Vol Retour</h3>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="departure_date_retour_${index}">Date de dÃ©part (Retour)&nbsp;:</label>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="date" id="departure_date_retour_${index}" name="departure_date_retour_${index}">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="departure_time_retour_${index}">Heure de dÃ©part (Retour)&nbsp;:</label>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="time" id="departure_time_retour_${index}" name="departure_time_retour_${index}">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="departure_airport_retour_${index}">AÃ©roport de dÃ©part (Retour)&nbsp;:</label>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="departure_airport_retour_${index}" name="departure_airport_retour_${index}" placeholder="Ex: MCO - Orlando" value="MCO - Orlando">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="arrival_airport_retour_${index}">AÃ©roport d'arrivÃ©e (Retour)&nbsp;:</label>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="arrival_airport_retour_${index}" name="arrival_airport_retour_${index}" placeholder="Ex: YUL - MontrÃ©al">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="arrival_date_retour_${index}">Date d'arrivÃ©e (Retour)&nbsp;:</label>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="date" id="arrival_date_retour_${index}" name="arrival_date_retour_${index}">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="arrival_time_retour_${index}">Heure d'arrivÃ©e (Retour)&nbsp;:</label>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="time" id="arrival_time_retour_${index}" name="arrival_time_retour_${index}">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="airline_retour_${index}">Compagnie AÃ©rienne (Retour)&nbsp;:</label>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="airline_retour_${index}" name="airline_retour_${index}" placeholder="Ex: Air Canada">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="flight_number_retour_${index}">NumÃ©ro de vol (Retour)&nbsp;:</label>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="flight_number_retour_${index}" name="flight_number_retour_${index}" placeholder="Ex: AC1677">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="flight_price_${index}">Prix total approximatif des vols (CAD)&nbsp;:</label>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="number" id="flight_price_${index}" name="flight_price_${index}" step="0.01">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="flight_notes_${index}">Notes sur les vols&nbsp;:</label>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <textarea id="flight_notes_${index}" name="flight_notes_${index}" placeholder="Ajoutez ici des dÃ©tails importants (ex: compagnie, escale, type de bagages inclus...)"></textarea>

Â  Â  Â  Â  Â  Â  Â  Â  `;

Â  Â  Â  Â  Â  Â  Â  Â  return wrapper;

Â  Â  Â  Â  Â  Â  }



Â  Â  Â  Â  Â  Â  for (let i = 1; i <= 3; i++) {

Â  Â  Â  Â  Â  Â  Â  Â  const g = createFlightGroup(i);

Â  Â  Â  Â  Â  Â  Â  Â  flightGroupsDiv.appendChild(g);

Â  Â  Â  Â  Â  Â  Â  Â  flightGroups.push(g);

Â  Â  Â  Â  Â  Â  }



Â  Â  Â  Â  Â  Â  function updateFlightGroupVisibility() {

Â  Â  Â  Â  Â  Â  Â  Â  const count = parseInt(flightOptionCountSelect.value, 10);

Â  Â  Â  Â  Â  Â  Â  Â  flightGroups.forEach((g, idx) => {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  g.classList.toggle('hidden', idx >= count);

Â  Â  Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  Â  Â  multipleFlightReasonDiv.classList.toggle('hidden', count <= 1);

Â  Â  Â  Â  Â  Â  }



Â  Â  Â  Â  Â  Â  function toggleFlightTooEarly() {

Â  Â  Â  Â  Â  Â  Â  Â  flightOptionsSection.classList.toggle('hidden', flightTooEarlyCheckbox.checked);

Â  Â  Â  Â  Â  Â  }



Â  Â  Â  Â  Â  Â  flightOptionCountSelect.addEventListener('change', updateFlightGroupVisibility);

Â  Â  Â  Â  Â  Â  flightTooEarlyCheckbox.addEventListener('change', toggleFlightTooEarly);

Â  Â  Â  Â  Â  Â  updateFlightGroupVisibility();

Â  Â  Â  Â  Â  Â  toggleFlightTooEarly();

Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  const form = document.getElementById('disneyForm');

Â  Â  Â  Â  Â  Â  const emailOutputDiv = document.getElementById('emailOutput');

Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  form.addEventListener('submit', function(event) {

Â  Â  Â  Â  Â  Â  Â  Â  event.preventDefault();

Â  Â  Â  Â  Â  Â  Â  Â  const formData = new FormData(form);

Â  Â  Â  Â  Â  Â  Â  Â  const data = {};

Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  for (let [key, value] of formData.entries()) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (!/^hotel_|^departure_|^arrival_|^airline_|^flight_/i.test(key)) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  data[key] = value;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  data.include_flights = formData.has('include_flights');

Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  data.hotels = [];

Â  Â  Â  Â  Â  Â  Â  Â  const hotelGroups = hotelSelectionsDiv.querySelectorAll('.hotel-option-group');

Â  Â  Â  Â  Â  Â  Â  Â  hotelGroups.forEach(group => {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const name = group.querySelector('select[name="hotel_name"]').value;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const price = group.querySelector('input[name="hotel_price"]').value;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if(name) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const hotelData = getHotelByName(name);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  data.hotels.push({

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  name: name,

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  description: hotelData.description,

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  level: hotelData.level,

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  pointsForts: hotelData.pointsForts,

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  price: price

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  });



Â  Â  Â  Â  Â  Â  Â  Â  data.flight_too_early = formData.has('flight_too_early');

Â  Â  Â  Â  Â  Â  Â  Â  data.flight_option_count = parseInt(flightOptionCountSelect.value, 10);

Â  Â  Â  Â  Â  Â  Â  Â  data.flight_multiple_reason = formData.get('flight_multiple_reason');

Â  Â  Â  Â  Â  Â  Â  Â  data.flights = [];

Â  Â  Â  Â  Â  Â  Â  Â  for (let i = 1; i <= data.flight_option_count; i++) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  data.flights.push({

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  departure_date_aller: formData.get(`departure_date_aller_${i}`),

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  departure_time_aller: formData.get(`departure_time_aller_${i}`),

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  departure_airport_aller: formData.get(`departure_airport_aller_${i}`),

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  arrival_airport_aller: formData.get(`arrival_airport_aller_${i}`),

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  arrival_date_aller: formData.get(`arrival_date_aller_${i}`),

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  arrival_time_aller: formData.get(`arrival_time_aller_${i}`),

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  airline_aller: formData.get(`airline_aller_${i}`),

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  flight_number_aller: formData.get(`flight_number_aller_${i}`),

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  departure_date_retour: formData.get(`departure_date_retour_${i}`),

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  departure_time_retour: formData.get(`departure_time_retour_${i}`),

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  departure_airport_retour: formData.get(`departure_airport_retour_${i}`),

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  arrival_airport_retour: formData.get(`arrival_airport_retour_${i}`),

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  arrival_date_retour: formData.get(`arrival_date_retour_${i}`),

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  arrival_time_retour: formData.get(`arrival_time_retour_${i}`),

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  airline_retour: formData.get(`airline_retour_${i}`),

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  flight_number_retour: formData.get(`flight_number_retour_${i}`),

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  flight_price: formData.get(`flight_price_${i}`),

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  flight_notes: formData.get(`flight_notes_${i}`)

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  const emailHtmlContent = generateEmailHTML(data);

Â  Â  Â  Â  Â  Â  Â  Â  emailOutputDiv.innerHTML = emailHtmlContent;

Â  Â  Â  Â  Â  Â  });



Â  Â  Â  Â  Â  Â  const copyHtmlButton = document.getElementById('copyHtmlButton');

Â  Â  Â  Â  Â  Â  copyHtmlButton.addEventListener('click', function() {

Â  Â  Â  Â  Â  Â  Â  Â  const emailContent = emailOutputDiv.innerHTML;

Â  Â  Â  Â  Â  Â  Â  Â  Â navigator.clipboard.writeText(emailContent).then(function() {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert('Contenu HTML de l\'e-mail copiÃ© dans le presse-papiers !');

Â  Â  Â  Â  Â  Â  Â  Â  }, function(err) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert('Erreur lors de la copie. Veuillez essayer manuellement.');

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error('Could not copy text: ', err);

Â  Â  Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  const includeFlightsCheckbox = document.getElementById('include_flights');

Â  Â  Â  Â  Â  Â  const flightDetailsDiv = document.getElementById('flight_details');

Â  Â  Â  Â  Â  Â  const bookingTypeSelect = document.getElementById('booking_type');

Â  Â  Â  Â  Â  Â  const hotelOptionsContainer = document.getElementById('hotel_options_container');

Â  Â  Â  Â  Â  Â  const promotionTypeSelect = document.getElementById('promotion_type');

Â  Â  Â  Â  Â  Â  const promotionDetailsDiv = document.getElementById('promotion_details');

Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  function toggleFlightDetails() {

Â  Â  Â  Â  Â  Â  Â  Â  flightDetailsDiv.classList.toggle('hidden', !includeFlightsCheckbox.checked);

Â  Â  Â  Â  Â  Â  Â  Â  updateFlightGroupVisibility();

Â  Â  Â  Â  Â  Â  Â  Â  toggleFlightTooEarly();

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  function toggleHotelOptions() { hotelOptionsContainer.classList.toggle('hidden', bookingTypeSelect.value !== 'hotel_tickets'); }

Â  Â  Â  Â  Â  Â  function togglePromotionDetails() { promotionDetailsDiv.classList.toggle('hidden', promotionTypeSelect.value !== 'specifique'); }



Â  Â  Â  Â  Â  Â  includeFlightsCheckbox.addEventListener('change', toggleFlightDetails);

Â  Â  Â  Â  Â  Â  bookingTypeSelect.addEventListener('change', toggleHotelOptions);

Â  Â  Â  Â  Â  Â  promotionTypeSelect.addEventListener('change', togglePromotionDetails);

Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  toggleFlightDetails();

Â  Â  Â  Â  Â  Â  toggleHotelOptions();

Â  Â  Â  Â  Â  Â  togglePromotionDetails();

Â  Â  Â  Â  });

Â  Â  </script>

</body>

</html>
